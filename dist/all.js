var a=function(){function t(t){t.when("/store",{templateUrl:"/Views/store.html",controller:"storeController",controllerAs:"s"}).when("/product",{templateUrl:"/Views/product.html",controller:"productController",controllerAs:"p"}).when("/cart",{templateUrl:"/Views/cart.html",controller:"cartController",controllerAs:"c"}).otherwise({redirectTo:"/store"})}function e(t){t.productCollection=[{name:"Apple",description:"Eat one every day to keep doctor away!",price:12,properties:[{name:"Calories",value:90},{name:"Cartenoid",value:0},{name:"Fiber",value:2},{name:"Folates",value:1},{name:"Potassium",value:1},{name:"Vitamin C",value:2}]},{name:"Grape",description:"Wine is great, but grapes are even better",price:8,properties:[{name:"Calories",value:90},{name:"Cartenoid",value:0},{name:"Fiber",value:2},{name:"Folates",value:1},{name:"Potassium",value:1},{name:"Vitamin C",value:2}]},{name:"GrapeFruit",description:"Pink or Red; always healthy and delicious",price:11,properties:[{name:"Calories",value:90},{name:"Cartenoid",value:0},{name:"Fiber",value:2},{name:"Folates",value:1},{name:"Potassium",value:1},{name:"Vitamin C",value:2}]},{name:"Papaya",description:"Super-popular for breakfast",price:5,properties:[{name:"Calories",value:90},{name:"Cartenoid",value:0},{name:"Fiber",value:2},{name:"Folates",value:1},{name:"Potassium",value:1},{name:"Vitamin C",value:2}]},{name:"PineApple",description:"Enjoy it (but dont forget to peal it first)",price:4,properties:[{name:"Calories",value:90},{name:"Cartenoid",value:0},{name:"Fiber",value:2},{name:"Folates",value:1},{name:"Potassium",value:1},{name:"Vitamin C",value:2}]}]}var a=angular.module("myapp",["ngRoute"]);a.config(t),a.run(e),t.$inject=["$routeProvider"],e.$inject=["$rootScope"]}();window.onload=function(){document.getElementById("loading").style.display="none",document.getElementById("views").style.display="block"};var svc=function(){function t(t,e){var a={};return a.cart={},a.cart.items=[],a.cart.totalCost=0,a.cart.totalQty=0,a.find=function(t,e){for(var a=0;a<t.length;a++)if(t[a].name===e)return t[a]},a.addToCart=function(t){a.cart.items.indexOf(t)===-1&&(a.cart.items.push(t),a.cart.totalCost+=t.price,++a.cart.totalQty)},a.remove=function(t){var e=a.cart.items.indexOf(t);e!=-1&&(a.cart.items.splice(e,1),t.quantity?(a.cart.totalQty-=t.quantity,a.cart.totalCost-=t.quantity*t.price,a.resetItem(t)):(a.cart.totalCost-=t.price,--a.cart.totalQty))},a.clearCart=function(){for(var t=0;t<a.cart.items.length;t++)a.resetItem(a.cart.items[t]);a.resetCart()},a.resetItem=function(t){t.quantity&&delete t.quantity},a.resetCart=function(){a.cart.items.length=0,a.cart.totalCost=0,a.cart.totalQty=0},a}angular.module("myapp").factory("storeAPI",t),t.$inject=["$http","$rootScope"]}(),ctrl=function(){function t(t,e,a,r){function o(t){var e=t;a.path("/product/").search({name:e})}function n(t){r.addToCart(t)}function i(){a.path("/cart")}var c=this;c.productDetail=o,c.addToCart=n,c.viewCart=i,c.collection=e.productCollection,c.cart=r.cart}function e(t,e,a,r){function o(){r.addToCart(u.item),l()}function n(){a.path("/store").search({})}function i(){r.remove(u.item),l()}function c(){a.path("/cart").search({})}function l(){u.status=r.find(r.cart.items,s.name)}var u=this,s=a.search(),m=e.productCollection;u.addToCart=o,u.back=n,u.remove=i,u.viewCart=c,u.cart=r.cart,u.item=r.find(m,s.name),l()}function a(t,e,a){function r(){a.clearCart()}function o(){e.path("/store").search({})}function n(t){a.remove(t)}function i(t){++t.quantity,s()}function c(t){--t.quantity,0==t.quantity&&a.remove(t),s()}function l(){var t,e=0;for(var a in m.cart.items)t=m.cart.items[a],e+=t.price*t.quantity;return e}function u(){var t,e=0;for(var a in m.cart.items)t=m.cart.items[a],e+=t.quantity;return e}function s(){m.cart.totalCost=m.Cost(),m.cart.totalQty=m.Qty()}var m=this;m.cart=a.cart;for(var p in m.cart.items)m.cart.items[p].quantity=m.cart.items[p].quantity||1;m.clearCart=r,m.back=o,m.remove=n,m.incQty=i,m.decQty=c,m.Cost=l,m.Qty=u}angular.module("myapp").controller("storeController",t).controller("productController",e).controller("cartController",a),t.$inject=["$scope","$rootScope","$location","storeAPI"],e.$inject=["$scope","$rootScope","$location","storeAPI"],a.$inject=["$scope","$location","storeAPI"]}();
